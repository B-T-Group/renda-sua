<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>Shipping Label - {{orderNumber}}</title>
    <style>
      @page {
        size: 105mm 148mm;
        margin: 0;
      }
      * {
        box-sizing: border-box;
      }
      html, body {
        width: 105mm;
        min-height: 148mm;
        margin: 0;
        padding: 0;
      }
      body {
        font-family: Arial, sans-serif;
        font-size: 3.2mm;
        line-height: 1.3;
        color: #111;
        padding: 4mm;
      }
      .label-header {
        font-weight: bold;
        font-size: 2.8mm;
        color: #666;
        text-transform: uppercase;
        margin-bottom: 0.5mm;
      }
      .section {
        margin-bottom: 2mm;
        padding-bottom: 1.5mm;
        border-bottom: 1px dashed #ccc;
      }
      .section:last-of-type {
        border-bottom: none;
      }
      .ship-from,
      .ship-to {
        font-size: 3.2mm;
      }
      .order-number {
        font-size: 5mm;
        font-weight: bold;
        margin: 1mm 0 1.5mm 0;
        letter-spacing: 0.5px;
      }
      .fast-delivery {
        display: inline-block;
        background: #e74c3c;
        color: white;
        font-size: 2.8mm;
        font-weight: bold;
        padding: 0.5mm 1.5mm;
        border-radius: 1mm;
        margin-left: 1.5mm;
        vertical-align: middle;
      }
      .delivery-time {
        font-weight: 600;
        margin: 1mm 0;
      }
      .items-list {
        margin: 0;
        padding: 0;
        list-style: none;
      }
      .items-list li {
        padding: 0.5mm 0;
        display: flex;
        justify-content: space-between;
        gap: 2mm;
      }
      .item-name {
        flex: 1;
      }
      .item-meta {
        font-size: 2.8mm;
        color: #555;
      }
      .special-instructions {
        background: #fff3cd;
        padding: 1mm 1.5mm;
        font-size: 2.8mm;
        border-radius: 1mm;
        margin-top: 1mm;
      }
      .barcode-wrap {
        text-align: center;
        margin-top: 3mm;
        padding-top: 2mm;
        border-top: 1px solid #333;
      }
      .barcode-wrap img {
        max-width: 100%;
        height: auto;
        display: block;
        margin: 0 auto 1mm auto;
      }
    </style>
  </head>
  <body>
    <div class="section">
      <div class="label-header">Ship from</div>
      <strong>{{businessName}}</strong>{{#businessLocationName}} – {{businessLocationName}}{{/businessLocationName}}<br />
      <span class="ship-from">{{businessAddress}}</span>
    </div>

    <div class="section">
      <div class="label-header">Ship to</div>
      <strong>{{recipientName}}</strong>{{#recipientPhone}} · {{recipientPhone}}{{/recipientPhone}}<br />
      <span class="ship-to">{{deliveryAddress}}</span>
    </div>

    <div class="section">
      <div class="label-header">Order</div>
      <span class="order-number">#{{orderNumber}}</span>{{#fastDelivery}}<span class="fast-delivery">Fast delivery</span>{{/fastDelivery}}
      <div class="delivery-time">{{scheduledDeliveryTime}}</div>
    </div>

    <div class="section">
      <div class="label-header">Items</div>
      <ul class="items-list">
        {{#orderItems}}
        <li>
          <span class="item-name">{{itemName}} × {{quantity}}</span>
          {{#itemMeta}}<span class="item-meta">{{itemMeta}}</span>{{/itemMeta}}
        </li>
        {{/orderItems}}
      </ul>
    </div>

    {{#specialInstructions}}
    <div class="special-instructions"><strong>Note:</strong> {{specialInstructions}}</div>
    {{/specialInstructions}}

    <div class="barcode-wrap">
      <img src="{{barcodeDataUrl}}" alt="Barcode {{orderNumber}}" />
      <strong>#{{orderNumber}}</strong>
    </div>
  </body>
</html>
